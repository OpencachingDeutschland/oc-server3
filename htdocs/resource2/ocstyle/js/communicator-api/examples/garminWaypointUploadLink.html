<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Garmin Display - Single-Click Waypoint Send</title>
</head>
<style type="text/css" media="all">@import "../garmin/device/style/communicator.css";</style>
<script type="text/javascript" src="../prototype/prototype.js">&#160;</script>
<script type="text/javascript" src="../garmin/device/GarminDeviceDisplay.js">&#160;</script>
<script type="text/javascript">	
	function load() {
	    var display = new Garmin.DeviceDisplay("garminDisplay", {
	    	pathKeyPairsArray: ["http://developer.garmin.com/","ee3934433a35ee348583236c2eeadbc1"],
	    	unlockOnPageLoad: false,
		    hideIfBrowserNotSupported: true,
	    	showStatusElement: false,
	    	autoFindDevices: false,
	    	useLinks: true,
	    	findDevicesButtonText: "Send Waypoint",
	    	autoSelectFirstDevice: true,
	    	showCancelFindDevicesButton: false,
	    	autoReadData: false,
	    	autoWriteData: true,
	    	showReadDataElement: false,
			getWriteData: function() {
				var waypoint = new Garmin.WayPoint("37.828567", "-122.49875", 100, "Geocache", null, "go find it...", "Geocache", "Marin Headlands");
				var factory = new Garmin.GpsDataFactory();
				var gpx = factory.produceGpxString(null, [waypoint]);
				return gpx;
			},
			afterFinishWriteToDevice: function(success) {
				alert("Geocache saved "+(success?"":"un")+"successfully");
			}
		});
	}
</script>
<body onload="load()">
<h2>Single-Click Waypoint Send</h2>
<div id="garminDisplay"></div>
</body>
</html>
